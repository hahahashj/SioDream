<template>
  <div class="app-layout">
    <!-- å…¨å±€é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="main-nav glass-nav">
      <div class="nav-content">
        <!-- ç‚¹å‡» Logo å›ä¸»é¡µ -->
        <router-link to="/index" class="logo">ğŸ§µ SioDream</router-link>
        
        <div class="nav-links">
          <router-link to="/index" class="nav-item">ä¸»é¡µ</router-link>
          <router-link to="/workshop" class="nav-item">å·¥åŠ</router-link>
          <router-link to="/products" class="nav-item">å•†å“ä»‹ç»</router-link>
          <router-link to="/creations" class="nav-item">æˆ‘çš„åˆ›ä½œ</router-link>
          <router-link to="/about" class="nav-item">å…³äºæˆ‘ä»¬</router-link>
        </div>
      </div>
    </nav>

    <!-- é¡µé¢å†…å®¹æ¸²æŸ“åŒº -->
    <!-- 1. è·å– route å¯¹è±¡ -->
    <router-view v-slot="{ Component, route }">
      <div class="router-host">
        <!-- 2. åˆ é™¤äº† <transition>ï¼Œè§£å†³äº† fixed å®šä½å¤±æ•ˆå¯¼è‡´çš„"åªæœ‰èƒŒæ™¯æ— å†…å®¹"é—®é¢˜ -->
        <!-- 3. æ·»åŠ  :keyï¼Œå¼ºåˆ¶æ¯æ¬¡åˆ‡æ¢è·¯ç”±éƒ½å½»åº•é‡ç»˜ç»„ä»¶ -->
        <component :is="Component" :key="route.fullPath" />
      </div>
    </router-view>
  </div>
</template>

<style>
/* 
  ä¿®å¤ï¼šå¯¼èˆªæ é«˜åº¦ 20px å¤ªå°äº†ï¼Œæ–‡å­—éƒ½æ”¾ä¸ä¸‹ã€‚
  æ”¹ä¸º 60pxï¼Œè¿™æ ·å·¥åŠé¡µé¢çš„ top: calc(60px + 20px) æ‰èƒ½æ­£ç¡®é¿å¼€å¯¼èˆªæ  
*/
:root {
  --nav-h: 60px; 
}

#app, .app-layout {
  width: 100%;
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

.router-host {
  width: 100%;
  min-height: 100vh;
}

/* å…¨å±€é‡ç½® */
body, html {
  margin: 0; padding: 0; width: 100%; height: 100%;
  font-family: 'Segoe UI', 'Nunito', sans-serif;
  overflow-x: hidden;
  background-color: #e0f7fa; 
}

/* å¯¼èˆªæ æ ·å¼ - ç»ç’ƒæ‹Ÿæ€ */
.glass-nav {
  position: fixed;
  top: 0; left: 0; width: 100%;
  height: var(--nav-h); 
  /* line-height ç§»é™¤ï¼Œä½¿ç”¨ flex å±…ä¸­æ›´ç¨³å¦¥ */
  background: rgba(255, 255, 255, 0.65);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 4px 20px rgba(0, 96, 100, 0.1);
  z-index: 999; 
  display: flex;
  justify-content: center;
}

.nav-content {
  width: 90%; max-width: 1200px;
  display: flex; justify-content: space-between; align-items: center;
  height: 100%; /* è®©å†…å®¹æ’‘æ»¡å¯¼èˆªæ é«˜åº¦ */
}

.logo {
  font-size: 1.5rem; font-weight: bold; color: #006064;
  text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  text-decoration: none;
  cursor: pointer;
}

.nav-links { display: flex; gap: 30px; }

.nav-item {
  text-decoration: none; color: #006064; font-weight: 600; font-size: 16px;
  position: relative; transition: color 0.3s;
  display: flex; align-items: center;
}

.nav-item:hover, .nav-item.router-link-active {
  color: #00bcd4;
}

.nav-item::after {
  content: ''; position: absolute; bottom: -5px; left: 0; width: 0%; height: 2px;
  background: #00bcd4; transition: width 0.3s;
}
.nav-item:hover::after, .nav-item.router-link-active::after {
  width: 100%;
}
</style>
